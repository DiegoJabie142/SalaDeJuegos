import{E as j}from"./chunk-RA5UQWQ2.js";import"./chunk-WXI33M2S.js";import{S as B}from"./chunk-EAWJ4BSG.js";import{Ca as k,Db as v,Eb as c,Fb as b,Gb as w,Lb as f,Mb as T,Nb as G,Sb as M,Va as d,Wa as S,g as y,hb as _,hc as V,ic as z,jb as l,jc as O,ka as p,lb as E,nc as R,ob as a,pb as o,qb as x,rb as F,sb as I,ta as h,tb as P,ua as C,vb as u,wb as g}from"./chunk-HPN74DU2.js";function K(t,n){if(t&1&&(F(0),a(1,"div",4),c(2),o(),a(3,"div",5),c(4),o(),a(5,"div",6),c(6),o(),I()),t&2){let s=g();d(2),b(s.value),d(2),b(s.suit),d(2),b(s.value)}}function Q(t,n){t&1&&(a(0,"div",7)(1,"div",8),c(2,"\u{1F0A0}"),o()())}var A=(()=>{let n=class n{constructor(){this.hidden=!1,this.validValues=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],this.validSuits=["\u2665","\u2666","\u2663","\u2660"]}ngOnInit(){if(!this.validValues.includes(this.value))throw new Error(`Valor de carta inv\xE1lido: ${this.value}`);if(!this.validSuits.includes(this.suit))throw new Error(`Palo de carta inv\xE1lido: ${this.suit}`)}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=p({type:n,selectors:[["app-card"]],inputs:{value:"value",suit:"suit",hidden:"hidden"},standalone:!0,features:[f],decls:5,vars:6,consts:[["backOfCard",""],[1,"card-container"],[1,"card"],[4,"ngIf","ngIfElse"],[1,"card-value","top"],[1,"card-suit"],[1,"card-value","bottom"],[1,"card-back-container"],[1,"card-back"]],template:function(e,i){if(e&1&&(a(0,"div",1)(1,"div",2),_(2,K,7,3,"ng-container",3)(3,Q,3,0,"ng-template",null,0,M),o()()),e&2){let m=v(4);d(),E("hidden",i.hidden)("red",i.suit==="\u2665"||i.suit==="\u2666"),d(),l("ngIf",!i.hidden)("ngIfElse",m)}},dependencies:[O],styles:['@charset "UTF-8";.card-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;padding:20px}.card[_ngcontent-%COMP%]{width:200px;height:300px;border:2px solid #ddd;border-radius:12px;display:flex;flex-direction:column;justify-content:space-between;align-items:center;background-color:#fff;font-size:1rem;font-weight:700;text-align:center;box-shadow:0 6px 12px #0000001a;color:#333;transition:transform .3s ease,box-shadow .3s ease,background-color .3s ease}@media (max-width: 768px){.card[_ngcontent-%COMP%]{width:90px;height:135px;font-size:.9rem}}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 20px #0003;background-color:#f9f9f9}.card.red[_ngcontent-%COMP%]{color:#e63946}.card-value[_ngcontent-%COMP%]{font-size:1.1rem;margin:4px}.card-value.top[_ngcontent-%COMP%]{align-self:flex-start;margin-top:8px}.card-value.bottom[_ngcontent-%COMP%]{align-self:flex-end;margin-bottom:8px}.card-suit[_ngcontent-%COMP%]{font-size:2rem;margin:5px 0}.card.hidden[_ngcontent-%COMP%]{background-color:#ccc;border:2px solid #aaa;color:transparent}.card-back-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%;width:100%;border-radius:20px;overflow:hidden;background:linear-gradient(45deg,#6a11cb,#2575fc)}.card-back[_ngcontent-%COMP%]{font-size:330px;color:#fff;font-weight:700;padding:10px}.card[_ngcontent-%COMP%]:active{transform:scale(.98)}.card-value[_ngcontent-%COMP%], .card-suit[_ngcontent-%COMP%]{transition:color .3s ease,transform .3s ease}.card[_ngcontent-%COMP%]:hover   .card-value[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]:hover   .card-suit[_ngcontent-%COMP%]{transform:translateY(-5px)}']});let t=n;return t})();var $=()=>[],q=t=>({lost:t});function Y(t,n){if(t&1&&(a(0,"span",8),c(1," \u2764\uFE0F "),o()),t&2){let s=n.$implicit,r=g();l("ngClass",G(1,q,s>r.lives-1))}}function H(t,n){if(t&1){let s=P();a(0,"div",9)(1,"button",10),u("click",function(){h(s);let e=g();return C(e.checkGuess("higher"))}),c(2,"Mayor"),o(),a(3,"button",10),u("click",function(){h(s);let e=g();return C(e.checkGuess("lower"))}),c(4,"Menor"),o(),a(5,"button",10),u("click",function(){h(s);let e=g();return C(e.checkGuess("equal"))}),c(6,"Igual"),o()()}}function U(t,n){if(t&1){let s=P();a(0,"p",11),c(1),o(),a(2,"button",12),u("click",function(){h(s);let e=g();return C(e.resetGame())}),c(3,"Reiniciar Juego"),o()}if(t&2){let s=g();d(),w("\xA1Juego Terminado! Puntaje final: ",s.score,"")}}var J=(()=>{let n=class n{constructor(){this.currentCard=this.generateRandomCard(),this.nextCard=this.generateRandomCard(),this.score=0,this.lives=3,this.gameOver=!1,this.gameFinishedScore=new k}generateRandomCard(){let r=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],e=["\u2665","\u2666","\u2663","\u2660"];return{value:r[Math.floor(Math.random()*r.length)],suit:e[Math.floor(Math.random()*e.length)]}}checkGuess(r){if(this.gameOver)return;let e=this.cardValueIndex(this.currentCard.value),i=this.cardValueIndex(this.nextCard.value),m=!1;switch(r){case"higher":m=i>e;break;case"lower":m=i<e;break;case"equal":m=i===e;break}m?this.score=this.score+5:(this.lives--,this.lives===0&&(this.gameOver=!0,this.gameFinishedScore.emit({score:this.score,date:new Date}))),this.currentCard=this.nextCard,this.nextCard=this.generateRandomCard()}cardValueIndex(r){return["A","2","3","4","5","6","7","8","9","10","J","Q","K"].indexOf(r)}resetGame(){this.currentCard=this.generateRandomCard(),this.nextCard=this.generateRandomCard(),this.score=0,this.lives=3,this.gameOver=!1}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=p({type:n,selectors:[["app-game-board"]],outputs:{gameFinishedScore:"gameFinishedScore"},standalone:!0,features:[f],decls:15,vars:10,consts:[["gameOverTemplate",""],[1,"game-board"],[1,"life-container"],["class","life",3,"ngClass",4,"ngFor","ngForOf"],[1,"card-container"],[3,"value","suit","hidden"],[3,"value","suit"],["class","game-buttons",4,"ngIf","ngIfElse"],[1,"life",3,"ngClass"],[1,"game-buttons"],[3,"click"],[1,"game-over",2,"margin-bottom","30px"],[1,"reset-button",3,"click"]],template:function(e,i){if(e&1&&(a(0,"div",1)(1,"h2"),c(2,"\xA1Juego de Mayor o Menor!"),o(),a(3,"p"),c(4),o(),a(5,"div",2)(6,"p"),c(7,"Vidas: "),_(8,Y,2,3,"span",3),o()(),a(9,"div",4),x(10,"app-card",5)(11,"app-card",6),o(),_(12,H,7,0,"div",7)(13,U,4,1,"ng-template",null,0,M),o()),e&2){let m=v(14);d(4),w("Puntaje: ",i.score,""),d(4),l("ngForOf",T(9,$).constructor(i.lives)),d(2),l("value",i.currentCard.value)("suit",i.currentCard.suit)("hidden",!0),d(),l("value",i.currentCard.value)("suit",i.currentCard.suit),d(),l("ngIf",!i.gameOver)("ngIfElse",m)}},dependencies:[A,O,z,R,V],styles:[".game-board[_ngcontent-%COMP%]{font-family:Arial,sans-serif;min-height:80vh;display:flex;flex-direction:column;align-items:center;justify-content:center}.game-board[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#4caf50;margin-bottom:20px;text-align:center}.game-board[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#333;margin:10px 0;color:#fff}.game-board[_ngcontent-%COMP%]   .life-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:20px}.game-board[_ngcontent-%COMP%]   .life-container[_ngcontent-%COMP%]   .life[_ngcontent-%COMP%]{font-size:1.5rem;margin:0 5px;color:#e91e63;transition:transform .2s ease-in-out}.game-board[_ngcontent-%COMP%]   .life-container[_ngcontent-%COMP%]   .life.lost[_ngcontent-%COMP%]{color:#ff5722;transform:scale(1.2)}.game-board[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]{margin-bottom:30px;display:flex;justify-content:center;align-items:center;margin-right:35px}.game-board[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]{display:flex;gap:20px}.game-board[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;padding:12px 20px;font-size:1.2rem;border-radius:8px;cursor:pointer;transition:background-color .3s,transform .2s ease-in-out;box-shadow:0 4px 6px #0000001a}.game-board[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3d8b40;transform:scale(1.05)}.game-board[_ngcontent-%COMP%]   .game-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.98)}.game-board[_ngcontent-%COMP%]   .game-over[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#ff5722;margin-top:20px;text-align:center}.game-board[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff;padding:12px 25px;font-size:1.1rem;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s,transform .2s ease-in-out}.game-board[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:hover{background-color:#0c7cd5;transform:scale(1.05)}.game-board[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:active{transform:scale(.98)}@media (max-width: 768px){.game-board[_ngcontent-%COMP%]{padding:15px}h2[_ngcontent-%COMP%]{font-size:1.8rem}p[_ngcontent-%COMP%]{font-size:1rem}.life-container[_ngcontent-%COMP%]   .life[_ngcontent-%COMP%]{font-size:1.3rem}.game-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:15px}button[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:1.1rem}}"]});let t=n;return t})();var se=(()=>{let n=class n{constructor(r){this.firebaseSvc=r}onGameFinishedScore(r){return y(this,null,function*(){try{yield this.firebaseSvc.saveGameMayorMenor(r.score,r.date)}catch(e){console.error("Error al guardar la partida:",e)}})}};n.\u0275fac=function(e){return new(e||n)(S(B))},n.\u0275cmp=p({type:n,selectors:[["app-mayor-menor-game"]],standalone:!0,features:[f],decls:3,vars:3,consts:[[3,"back","whereToBack","title"],[1,"bg"],[3,"gameFinishedScore"]],template:function(e,i){e&1&&(x(0,"app-header",0),a(1,"div",1)(2,"app-game-board",2),u("gameFinishedScore",function(N){return i.onGameFinishedScore(N)}),o()()),e&2&&l("back",!0)("whereToBack","main/home")("title","MAYOR MENOR")},dependencies:[J,j],styles:[".bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f0c29,#302b63,#24243e);height:93vh}"]});let t=n;return t})();export{se as MayorMenorGameComponent};
