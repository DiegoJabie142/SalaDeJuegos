import{E as R,c as N,d,e as T,f as j,j as I,k as w,l as A,n as z,o as q,p as D,u as V,v as B,w as L}from"./chunk-RA5UQWQ2.js";import"./chunk-WXI33M2S.js";import{R as $,S as k}from"./chunk-EAWJ4BSG.js";import{Eb as i,Gb as F,Lb as M,Va as l,Wa as _,e as G,hb as s,ic as S,jb as u,jc as O,ka as h,nc as P,ob as n,pb as t,qb as p,ta as E,tb as x,ua as C,vb as f,wb as y}from"./chunk-HPN74DU2.js";var v=G($());function H(o,c){o&1&&(n(0,"div",20),i(1," Nombre es requerido. "),t())}function U(o,c){o&1&&(n(0,"div",20),i(1," Edad debe estar entre 18 y 99 a\xF1os. "),t())}function Q(o,c){o&1&&(n(0,"div",20),i(1," El n\xFAmero debe ser v\xE1lido y contener solo n\xFAmeros (m\xE1ximo 10 d\xEDgitos). "),t())}function W(o,c){o&1&&(n(0,"div",20),i(1," Esta pregunta es obligatoria. "),t())}function Z(o,c){o&1&&(n(0,"div",20),i(1," Esta pregunta es obligatoria. "),t())}function J(o,c){if(o&1){let b=x();n(0,"div")(1,"input",21),f("change",function(a){let e=E(b).$implicit,m=y();return C(m.onCheckboxChange(a,e))}),t(),i(2),t()}if(o&2){let b=c.$implicit;l(),u("value",b),l(),F(" ",b," ")}}function K(o,c){o&1&&(n(0,"div",20),i(1," Esta pregunta es obligatoria. "),t())}var re=(()=>{let c=class c{constructor(r,a){this.fb=r,this.firebaseService=a,this.juegosList=["Ahorcado","Wordle","Adivina la bandera","Mayor Menor","Ninguno"]}ngOnInit(){this.encuestaForm=this.fb.group({nombre:["",d.required],edad:["",[d.required,d.min(18),d.max(99)]],telefono:["",[d.required,d.pattern("^[0-9]{1,10}$")]],comentario:["",[d.required,d.minLength(1)]],recomendacion:["",d.required],juegos:this.fb.array([],d.required)})}onCheckboxChange(r,a){if(r.target.checked)this.juegos.push(this.fb.control(a));else{let m=this.juegos.controls.findIndex(g=>g.value===a);m!==-1&&this.juegos.removeAt(m)}}get juegos(){return this.encuestaForm.get("juegos")}validarCheckboxSeleccionado(r){return r.value.length===0?{checkboxRequired:!0}:null}validarSoloLetras(r){let a=r,e=r.target;e.value=e.value.replace(/[^A-Za-záéíóúÁÉÍÓÚñÑ\s]/g,"")}validarSoloNumeros(r){let a=r,e=r.target;e.value=e.value.replace(/[^0-9]/g,""),e.value.length>10&&(e.value=e.value.slice(0,10))}submit(){if(this.encuestaForm.valid){let r=this.encuestaForm.value;this.firebaseService.saveEncuesta(r).then(()=>{v.default.fire({icon:"success",title:"Encuesta enviada",text:"\xA1Gracias por completar la encuesta!"}).then(()=>{this.encuestaForm.reset()})}).catch(a=>{v.default.fire({icon:"error",title:"Error al enviar la encuesta",text:"Hubo un problema al guardar los datos. Intenta de nuevo m\xE1s tarde."}),console.error("Error al guardar la encuesta:",a)})}else v.default.fire({icon:"warning",title:"Formulario incompleto",text:"Por favor, completa todos los campos obligatorios."})}};c.\u0275fac=function(a){return new(a||c)(_(V),_(k))},c.\u0275cmp=h({type:c,selectors:[["app-encuesta"]],standalone:!0,features:[M],decls:44,vars:12,consts:[[3,"back","whereToBack","title"],[1,"bg"],[2,"padding-top","50px"],[1,"encuesta-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","nombre"],["id","nombre","formControlName","nombre","type","text","placeholder","Ingrese su nombre completo",3,"input"],["class","error",4,"ngIf"],["for","edad"],["id","edad","formControlName","edad","type","number","placeholder","Ingrese su edad"],["for","telefono"],["id","telefono","formControlName","telefono","type","text","placeholder","Ingrese su n\xFAmero de tel\xE9fono",3,"input"],["for","comentario"],["id","comentario","formControlName","comentario","type","text","placeholder","Escriba su opini\xF3n"],["type","radio","formControlName","recomendacion","value","S\xED"],["type","radio","formControlName","recomendacion","value","No"],["formArrayName","juegos"],[4,"ngFor","ngForOf"],["type","submit",3,"disabled"],[1,"error"],["type","checkbox",3,"change","value"]],template:function(a,e){a&1&&(p(0,"app-header",0),n(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),i(5,"Encuesta"),t(),n(6,"form",4),f("ngSubmit",function(){return e.submit()}),n(7,"div",5)(8,"label",6),i(9,"Nombre y apellido:"),t(),n(10,"input",7),f("input",function(g){return e.validarSoloLetras(g)}),t(),s(11,H,2,0,"div",8),t(),n(12,"div",5)(13,"label",9),i(14,"Edad:"),t(),p(15,"input",10),s(16,U,2,0,"div",8),t(),n(17,"div",5)(18,"label",11),i(19,"N\xFAmero de Tel\xE9fono:"),t(),n(20,"input",12),f("input",function(g){return e.validarSoloNumeros(g)}),t(),s(21,Q,2,0,"div",8),t(),n(22,"div",5)(23,"label",13),i(24,"\xBFQu\xE9 opina de los juegos?"),t(),p(25,"input",14),s(26,W,2,0,"div",8),t(),n(27,"div",5)(28,"label"),i(29,"\xBFRecomendar\xEDas jugarlos a alguien m\xE1s?"),t(),n(30,"div"),p(31,"input",15),i(32," S\xED "),p(33,"input",16),i(34," No "),t(),s(35,Z,2,0,"div",8),t(),n(36,"div",5)(37,"label"),i(38,"\xBFCu\xE1les de los siguientes juegos te gustaron?"),t(),n(39,"div",17),s(40,J,3,2,"div",18),t(),s(41,K,2,0,"div",8),t(),n(42,"button",19),i(43,"Enviar Encuesta"),t()()()()()),a&2&&(u("back",!0)("whereToBack","main/home")("title","COMPLETAR ENCUESTA"),l(6),u("formGroup",e.encuestaForm),l(5),u("ngIf",e.encuestaForm.get("nombre").touched&&e.encuestaForm.get("nombre").invalid),l(5),u("ngIf",e.encuestaForm.get("edad").touched&&e.encuestaForm.get("edad").invalid),l(5),u("ngIf",e.encuestaForm.get("telefono").touched&&e.encuestaForm.get("telefono").invalid),l(5),u("ngIf",e.encuestaForm.get("comentario").touched&&e.encuestaForm.get("comentario").invalid),l(9),u("ngIf",e.encuestaForm.get("recomendacion").touched&&e.encuestaForm.get("recomendacion").invalid),l(5),u("ngForOf",e.juegosList),l(),u("ngIf",e.encuestaForm.get("juegos").touched&&e.encuestaForm.get("juegos").invalid),l(),u("disabled",e.encuestaForm.invalid))},dependencies:[R,O,P,S,B,I,N,w,A,T,j,L,z,D,q],styles:['@charset "UTF-8";.bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f0c29,#302b63,#24243e);height:120vh}.encuesta-container[_ngcontent-%COMP%]{background-color:#2c3e50;color:#ecf0f1;font-family:Roboto,sans-serif;border-radius:10px;padding:20px;max-width:600px;margin:auto;box-shadow:0 4px 10px #0000004d}.encuesta-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2em;color:#3498db;text-transform:uppercase;letter-spacing:1px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{font-size:1.1em;font-weight:700;color:#ecf0f1;display:block;margin-top:30px}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #34495e;border-radius:8px;background-color:#34495e;color:#ecf0f1;font-size:1em;box-sizing:border-box;transition:border-color .3s ease,background-color .3s ease;position:relative;top:20px}input[type=text][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, input[type=radio][_ngcontent-%COMP%]:focus, input[type=checkbox][_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;background-color:#1abc9c}.error[_ngcontent-%COMP%]{color:#e74c3c;font-size:.9em;margin-top:5px}.preguntas[_ngcontent-%COMP%]{margin-top:20px}.preguntas[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.1em;color:#ecf0f1;display:block}input[type=radio][_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px;transition:background-color .3s ease}button[_ngcontent-%COMP%]{width:100%;padding:14px;background-color:#3498db;color:#fff;font-size:1.2em;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s ease;margin-top:20px}button[_ngcontent-%COMP%]:hover{background-color:#1abc9c}button[_ngcontent-%COMP%]:disabled{background-color:#7f8c8d;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 600px){.encuesta-container[_ngcontent-%COMP%]{width:100%;padding:15px}h2[_ngcontent-%COMP%]{font-size:1.5em}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%]{padding:10px;font-size:.9em}}']});let o=c;return o})();export{re as EncuestaComponent};
