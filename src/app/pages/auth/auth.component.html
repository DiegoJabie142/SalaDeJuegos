<app-header title='Iniciar Sesión' [routes]="[{ name: 'Quién soy?', url: '/quien-soy' }]"></app-header>

<div class="body">
    <div class="bg-goku">
    </div>
    <div class="d-flex-center widht-100">
        <app-logo></app-logo>
    </div>
    
    <div class="d-flex-center width-100">
        <form [formGroup]="form" (ngSubmit)="submit()" (keypress.enter)="submit()" class="auth-form">
            <!--MAIL-->
            <div class="margin-input">
                <app-custom-input label="Correo" [control]="form.controls.email" type="email" name="email"></app-custom-input>
            </div>      
            @if(form.controls.email.errors && form.controls.email.touched){
                <ng-container class="validators-container">                  
                        <div *ngIf="form.controls.email.errors?.['required']" class="validators">El correo es requerido</div>
                        <div *ngIf="form.controls.email.errors?.['email']" class="validators">Ingrese un correo válido</div>
                 </ng-container>
            }
            
            <!--PASSWORD-->
            <div class="margin-input">
                <app-custom-input label="Contraseña" [control]="form.controls.password" type="password"></app-custom-input>
            </div>
            @if(form.controls.password.errors && form.controls.password.touched){
                <ng-container class="validators-container">                  
                        <div *ngIf="form.controls.password.errors?.['required']" class="validators">La contraseña es requerida</div>
                        <div *ngIf="!form.controls.password.errors?.['required']" class="validators">Debe tener 6 carácteres o más</div>
                 </ng-container>
            }

            <div class="d-flex-space-between widht-100">
                <button mat-flat-button color="primary" class="button-login" type="submit" [disabled]="form.invalid">INICIAR SESIÓN</button>
                <button mat-flat-button color="warn" class="button-login" (click)="redirectToSignUp($event)">REGISTRARSE</button>
            </div>
                        <!-- Botones para autocompletar -->
            <div class="d-flex-space-between widht-100">
                <button mat-flat-button color="accent" class="button-login" (click)="autoComplete('admin')">Iniciar ADMIN</button>
                <button mat-flat-button color="primary" class="button-login" (click)="autoComplete('user')">Iniciar USER</button>
            </div>
        </form>
        
    </div>
</div>